!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){var n;(n=Zepto).extend(n.fn,{lottery:function(t,e){t=n.extend({},{switch:1,number:0,total:50,speed:100},t);var i=n("#jq-prize").find("li"),a=i.length-1,r=-1,o=0,s=null;1==t.switch&&function p(){o+=1,(r+=1)>a&&(r=0),i.eq(r).addClass("wrap-active").siblings().removeClass("wrap-active"),o>t.total&&t.number==i.eq(r).attr("data-id")?(clearTimeout(s),r=0,o=0,t.speed=50,n(".wrap-active").append('<span><img src="/Public/res/Wap/smact/img/love.png"></span>'),setTimeout(function(){e()},400)):(o<t.total?t.speed-=10:t.speed+=40,t.speed<40&&(t.speed=40),s=setTimeout(p,t.speed))}()}}),function(t){var e=data_json.config,n=data_json.last_config;function i(){var n=[];t.each(e.remark_arr,function(t,e){n.push(e+"<span></span>")}),t("#jq-remark").html(n.join(""))}function a(){var n;e.backtime--,t("#jq-time").html((n=e.backtime,[parseInt(n/60/60),parseInt(n/60%60),parseInt(n%60)].join(":").replace(/\b(\d)\b/g,"0$1"))),0==e.backtime&&window.location.reload()}1==e.is_open?(t("#jq-start").hide(),t("#jq-winning").show()):(t("#jq-start").show().html("抽奖活动还没开始哦。"),t("#jq-winning").hide()),n?(t("#jq-prize").html(template("temp-prize",{items:n.products_info.list})),i(),setTimeout(function(){t.fn.lottery({switch:e.is_open,number:n.act_product},function(){function i(){var e=!0;t("#jq-prize").find("li").not(".wrap-active").on({click:function(){if(!e)return!1;e=!1;var n=t(this).find("img").attr("src"),i=t(this).attr("data-title"),a=t(this).attr("data-type"),r=t("#jq-layer");return r.removeClass("wrap-end").addClass("wrap-start"),r.find(".wrap-img").attr("src",n),r.find("h1").html(i),r.find("span").html(a),t("#jq-mask").show(),r.show(),t(document).not("#jq-layer").on({click:function(){t("#jq-layer").find("a").click()}}),t("#jq-layer").on({click:function(t){t.stopPropagation()}}),!1}}),t("#jq-layer").find("a").on({click:function(){t(this).parents().removeClass("wrap-start").addClass("wrap-end"),t("#jq-mask").hide(),e=!0}})}t("#jq-winning").html(template("temp-winning",{items:n})),setTimeout(function(){!function(){var e=t("#jq-winning"),n=e.find("h3"),i=n.find("span").width()-e.width(),a=0,r=!0;if(i>0){n.find("span").addClass("wrap-span");var o=parseInt(n.find("span").css("margin-right"));setInterval(function(){(a-=1)<=-i&&r&&(r=!1,n.append(n.find("span").eq(0).clone())),a<=-(e.width()+i)&&(a=o),n.css({left:a+"px"})},20)}}(),JSON.stringify(n.products_info.list)!=JSON.stringify(e.products_info.list)?(t("#jq-mask,#jq-load").show(),t("#jq-load").html('<img src="/Public/res/Wap/smact/img/loading.gif"><p>正在更新今日待开奖商品</p>'),setTimeout(function(){t("#jq-mask,#jq-load").hide(),t("#jq-prize").html(template("temp-prize",{items:e.products_info.list})),i()},5e3)):i()},500)})},1e3)):(t("#jq-prize").html(template("temp-prize",{items:e.products_info.list})),i()),setTimeout(function(){a()},0),setInterval(function(){a()},1e3),""!=data_json.product_lists&&n?t("#jq-move").html(template("temp-move",{items:data_json.product_lists})):t("#jq-move").html("<p>抽奖活动还没开始哦。</p>");var r=t("#jq-move").offset().top-t(window).height()+t("#jq-move").height()/2,o=!0;t(window).scroll(function(){var e,n,i,a,s;t(this).scrollTop()>r&&o&&(o=!1,e=t("#jq-move"),n=e.find("li"),i=null,a=!0,s=0,n.length>5&&setInterval(function(){if(!a)return!1;(s-=1)<=-n.height()&&(a=!1,clearInterval(i),i=setInterval(function(){n=e.find("li"),a=!0},1e3),e.append(n.eq(0).clone()),n.eq(0).remove(),s=0),e.css({top:s+"px"})},20))})}(Zepto)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc21hY3QvanMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIiQiLCJaZXB0byIsImV4dGVuZCIsImZuIiwibG90dGVyeSIsIm9wdGlvbnMiLCJjYWxsYmFjayIsInN3aXRjaCIsIm51bWJlciIsInRvdGFsIiwic3BlZWQiLCJsaXN0IiwiZmluZCIsImxlbiIsImxlbmd0aCIsImluZGV4IiwicnVuIiwidGltZXIiLCJsb2FkbGlzdCIsImVxIiwiYWRkQ2xhc3MiLCJzaWJsaW5ncyIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImNsZWFyVGltZW91dCIsImFwcGVuZCIsInNldFRpbWVvdXQiLCJjb25maWciLCJkYXRhX2pzb24iLCJsYXN0X2NvbmZpZyIsInJlbWFya3Nob3ciLCJyZW1hcmsiLCJlYWNoIiwicmVtYXJrX2FyciIsIml0ZW1zIiwicHVzaCIsImh0bWwiLCJqb2luIiwidGltZXNob3ciLCJzZWNvbmRzIiwiYmFja3RpbWUiLCJwYXJzZUludCIsInJlcGxhY2UiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImlzX29wZW4iLCJoaWRlIiwic2hvdyIsInRlbXBsYXRlIiwicHJvZHVjdHNfaW5mbyIsImFjdF9wcm9kdWN0IiwiZXZlbnRzaG93Iiwib2ZmIiwibm90Iiwib24iLCJjbGljayIsImltZyIsInRoaXMiLCJ0aXRsZSIsInR5cGUiLCJib3giLCJkb2N1bWVudCIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwicGFyZW50cyIsIm9Nb3ZlIiwib0R0Iiwic3VtIiwid2lkdGgiLCJvbk9mZiIsIm51bSIsImNzcyIsInNldEludGVydmFsIiwiY2xvbmUiLCJsZWZ0IiwibmFtZXNob3ciLCJKU09OIiwic3RyaW5naWZ5IiwicHJvZHVjdF9saXN0cyIsImRpc3RhbmNlIiwib2Zmc2V0IiwidG9wIiwiaGVpZ2h0Iiwic2Nyb2xsIiwic2Nyb2xsVG9wIiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVUsRUFBQUMsR0FBc0QsT0FBQVYsT0FBQVcsVUFBQUMs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VUFKLFdBQUEsV0FDQVksS0FDRSxHQUNGbUMsWUFBQSxXQUNBbkMsS0FDRSxLQVNGLElBQUFWLFVBQUFtRCxlQUFBbEQsRUFHQTdCLEVBQUEsWUFBQW9DLEtBQUFhLFNBQUEsYUFBNENmLE1BQUFOLFVBQUFtRCxpQkFGNUMvRSxFQUFBLFlBQUFvQyxLQUFBLHFCQUlBLElBQUE0QyxFQUFBaEYsRUFBQSxZQUFBaUYsU0FBQUMsSUFBQWxGLEVBQUEyQyxRQUFBd0MsU0FBQW5GLEVBQUEsWUFBQW1GLFNBQUEsRUFDQWIsR0FBQSxFQUNBdEUsRUFBQTJDLFFBQUF5QyxPQUFBLFdBQ0EsSUFPQXZCLEVBQ0FsRCxFQUNBTSxFQUNBb0MsRUFDQTlFLEVBWEF5QixFQUFBMEQsTUFBQTJCLFlBQ0FMLEdBQUFWLElBQ0FBLEdBQUEsRUFLQVQsRUFBQTdELEVBQUEsWUFDQVcsRUFBQWtELEVBQUFqRCxLQUFBLE1BQ0FLLEVBQUEsS0FDQW9DLEdBQUEsRUFDQTlFLEVBQUEsRUFDQW9DLEVBQUFHLE9BQUEsR0FDQTJELFlBQUEsV0FDQSxJQUFBcEIsRUFDQSxVQUVBOUUsR0FBQSxLQUNBb0MsRUFBQXdFLFdBQ0E5QixHQUFBLEVBQ0FpQyxjQUFBckUsR0FDQUEsRUFBQXdELFlBQUEsV0FDQTlELEVBQUFrRCxFQUFBakQsS0FBQSxNQUNBeUMsR0FBQSxHQUNNLEtBQ05RLEVBQUFwQyxPQUFBZCxFQUFBUSxHQUFBLEdBQUF1RCxTQUNBL0QsRUFBQVEsR0FBQSxHQUFBb0UsU0FDQWhILEVBQUEsR0FFQXNGLEVBQUFXLEtBQWFVLElBQUEzRyxFQUFBLFFBQ1QsT0F0TEgsQ0F5TEEwQiIsImZpbGUiOiJzbWFjdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiOyhmdW5jdGlvbigkKXtcclxuXHQkLmV4dGVuZCgkLmZuLHtcclxuXHRcdGxvdHRlcnk6IGZ1bmN0aW9uKG9wdGlvbnMsY2FsbGJhY2spIHtcclxuXHRcdFx0dmFyIGRlZmF1bHRzID0ge1xyXG5cdFx0XHRcdHN3aXRjaDogMSxcclxuXHRcdCAgICAgICAgbnVtYmVyOiAwLFxyXG5cdFx0ICAgICAgICB0b3RhbDogNTAsXHJcblx0XHQgICAgICAgIHNwZWVkOiAxMDBcclxuXHRcdFx0fSxcclxuXHRcdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKCB7fSxkZWZhdWx0cyxvcHRpb25zICksXHJcblx0XHRcdGxpc3QgPSAkKCcjanEtcHJpemUnKS5maW5kKCdsaScpLFxyXG5cdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aCAtIDEsXHJcblx0XHQgICAgaW5kZXggPSAtMSxcclxuXHRcdCAgICBydW4gPSAwLFxyXG5cdFx0ICAgIHRpbWVyID0gbnVsbDtcclxuXHJcblx0XHRcdGlmKCBvcHRpb25zLnN3aXRjaCA9PSAxICkge1xyXG5cdFx0ICAgIFx0bG9hZGxpc3QoKTtcclxuXHRcdCAgICB9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBzZXRjbGFzcygpIHtcclxuXHRcdFx0XHRpbmRleCArPSAxO1xyXG5cdFx0XHRcdGlmKCBpbmRleCA+IGxlbiApIHtcclxuXHRcdFx0XHRcdGluZGV4ID0gMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGlzdC5lcShpbmRleCkuYWRkQ2xhc3MoJ3dyYXAtYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnd3JhcC1hY3RpdmUnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmdW5jdGlvbiBsb2FkbGlzdCgpIHtcclxuXHRcdFx0XHRydW4gKz0gMTtcclxuXHRcdFx0XHRzZXRjbGFzcygpO1xyXG5cdFx0XHRcdGlmKCBydW4gPiBvcHRpb25zLnRvdGFsICYmIG9wdGlvbnMubnVtYmVyID09IGxpc3QuZXEoaW5kZXgpLmF0dHIoJ2RhdGEtaWQnKSApIHtcclxuXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lcik7XHJcblx0XHRcdFx0XHRpbmRleCA9IDA7XHJcblx0XHRcdFx0XHRydW4gPSAwO1xyXG5cdFx0XHRcdFx0b3B0aW9ucy5zcGVlZCA9IDUwO1xyXG5cdFx0XHRcdFx0JCgnLndyYXAtYWN0aXZlJykuYXBwZW5kKCc8c3Bhbj48aW1nIHNyYz1cIi9QdWJsaWMvcmVzL1dhcC9zbWFjdC9pbWcvbG92ZS5wbmdcIj48L3NwYW4+Jyk7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHR9LDQwMCk7XHJcblx0XHRcdFx0fWVsc2Uge1xyXG5cdFx0XHRcdFx0aWYoIHJ1biA8IG9wdGlvbnMudG90YWwgKSB7XHJcblx0XHRcdFx0XHRcdG9wdGlvbnMuc3BlZWQgLT0gMTA7XHJcblx0XHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHRcdG9wdGlvbnMuc3BlZWQgKz0gNDA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiggb3B0aW9ucy5zcGVlZCA8IDQwICkge1xyXG5cdFx0XHRcdFx0XHRvcHRpb25zLnNwZWVkID0gNDA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aW1lciA9IHNldFRpbWVvdXQoIGxvYWRsaXN0LG9wdGlvbnMuc3BlZWQgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxufSkoWmVwdG8pO1xyXG5cclxuOyhmdW5jdGlvbigkKXtcclxuXHJcblx0ZnVuY3Rpb24gbmFtZXNob3coKSB7XHJcblx0XHR2YXIgb01vdmUgPSAkKCcjanEtd2lubmluZycpLFxyXG5cdFx0XHQgIG9EdCA9IG9Nb3ZlLmZpbmQoJ2gzJyksXHJcblx0XHRcdCAgc3VtID0gb0R0LmZpbmQoJ3NwYW4nKS53aWR0aCgpIC0gb01vdmUud2lkdGgoKSxcclxuXHRcdFx0ICAgIGkgPSAwLFxyXG5cdFx0XHRvbk9mZiA9IHRydWU7XHJcblx0XHRpZiggc3VtID4gMCApe1xyXG5cdFx0XHRvRHQuZmluZCgnc3BhbicpLmFkZENsYXNzKCd3cmFwLXNwYW4nKTtcclxuXHRcdFx0dmFyIG51bSA9IHBhcnNlSW50KCBvRHQuZmluZCgnc3BhbicpLmNzcygnbWFyZ2luLXJpZ2h0JykgKTtcclxuXHRcdFx0dmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRpIC09IDE7XHJcblx0XHRcdFx0aWYoIGkgPD0gLXN1bSApe1xyXG5cdFx0XHRcdFx0aWYoIG9uT2ZmICl7XHJcblx0XHRcdFx0XHRcdG9uT2ZmID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdG9EdC5hcHBlbmQoIG9EdC5maW5kKCdzcGFuJykuZXEoMCkuY2xvbmUoKSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiggaSA8PSAtKG9Nb3ZlLndpZHRoKCkgKyBzdW0pICl7XHJcblx0XHRcdFx0XHRpID0gbnVtIDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0b0R0LmNzcyh7J2xlZnQnOiBpKyAncHgnfSk7XHJcblx0XHRcdH0sMjApXHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGZvcm1hdHRpbWUoc2Vjb25kcykge1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0cGFyc2VJbnQoIHNlY29uZHMgLyA2MCAvIDYwICksXHJcblx0XHRcdHBhcnNlSW50KCBzZWNvbmRzIC8gNjAgJSA2MCApLFxyXG5cdFx0XHRwYXJzZUludCggc2Vjb25kcyAlIDYwIClcclxuXHRcdF0uam9pbignOicpLnJlcGxhY2UoL1xcYihcXGQpXFxiL2csJzAkMScpO1xyXG5cdH1cclxuXHJcblx0dmFyIGNvbmZpZyA9IGRhdGFfanNvbi5jb25maWcsXHJcbiAgICBsYXN0X2NvbmZpZyA9IGRhdGFfanNvbi5sYXN0X2NvbmZpZztcclxuXHJcblx0aWYoIGNvbmZpZy5pc19vcGVuID09IDEgKSB7XHJcblx0XHQkKCcjanEtc3RhcnQnKS5oaWRlKCk7XHJcblx0XHQkKCcjanEtd2lubmluZycpLnNob3coKTtcclxuXHR9ZWxzZSB7XHJcblx0XHQkKCcjanEtc3RhcnQnKS5zaG93KCkuaHRtbCgn5oq95aWW5rS75Yqo6L+Y5rKh5byA5aeL5ZOm44CCJyk7XHJcblx0XHQkKCcjanEtd2lubmluZycpLmhpZGUoKTtcclxuXHR9XHJcblxyXG5cdGlmKCBsYXN0X2NvbmZpZyApIHtcclxuXHRcdCQoJyNqcS1wcml6ZScpLmh0bWwodGVtcGxhdGUoJ3RlbXAtcHJpemUnLCB7IGl0ZW1zOiBsYXN0X2NvbmZpZy5wcm9kdWN0c19pbmZvLmxpc3QgfSkpO1xyXG5cdFx0cmVtYXJrc2hvdygpO1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHQkLmZuLmxvdHRlcnkoe1xyXG5cdFx0XHRcdHN3aXRjaDogY29uZmlnLmlzX29wZW4sXHJcblx0XHRcdCAgICBudW1iZXI6IGxhc3RfY29uZmlnLmFjdF9wcm9kdWN0XHJcblx0XHRcdH0sZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQkKCcjanEtd2lubmluZycpLmh0bWwodGVtcGxhdGUoJ3RlbXAtd2lubmluZycsIHsgaXRlbXM6IGxhc3RfY29uZmlnIH0pKTtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRuYW1lc2hvdygpO1xyXG5cdFx0XHRcdFx0aWYoIEpTT04uc3RyaW5naWZ5KCBsYXN0X2NvbmZpZy5wcm9kdWN0c19pbmZvLmxpc3QgKSAhPSBKU09OLnN0cmluZ2lmeSggY29uZmlnLnByb2R1Y3RzX2luZm8ubGlzdCApICl7XHJcblx0XHRcdFx0XHRcdGxvYWRpbWcoKTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRldmVudHNob3coKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LDUwMCk7XHJcblxyXG5cdFx0XHRcdGZ1bmN0aW9uIGxvYWRpbWcoKSB7XHJcblx0XHRcdFx0XHQkKCcjanEtbWFzaywjanEtbG9hZCcpLnNob3coKTtcclxuXHRcdFx0XHRcdCQoJyNqcS1sb2FkJykuaHRtbCgnPGltZyBzcmM9XCIvUHVibGljL3Jlcy9XYXAvc21hY3QvaW1nL2xvYWRpbmcuZ2lmXCI+PHA+5q2j5Zyo5pu05paw5LuK5pel5b6F5byA5aWW5ZWG5ZOBPC9wPicpO1xyXG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHQkKCcjanEtbWFzaywjanEtbG9hZCcpLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0JCgnI2pxLXByaXplJykuaHRtbCh0ZW1wbGF0ZSgndGVtcC1wcml6ZScsIHsgaXRlbXM6IGNvbmZpZy5wcm9kdWN0c19pbmZvLmxpc3QgfSkpO1xyXG5cdFx0XHRcdFx0XHRldmVudHNob3coKTtcclxuXHRcdFx0XHRcdH0sNTAwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZ1bmN0aW9uIGV2ZW50c2hvdygpIHtcclxuXHRcdFx0XHRcdHZhciBvZmYgPSB0cnVlO1xyXG5cdFx0XHRcdFx0JCgnI2pxLXByaXplJykuZmluZCgnbGknKS5ub3QoJy53cmFwLWFjdGl2ZScpLm9uKHtcclxuXHRcdFx0XHRcdFx0Y2xpY2s6ZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0XHRpZiggIW9mZiApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0b2ZmID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGltZyA9ICQodGhpcykuZmluZCgnaW1nJykuYXR0cignc3JjJyksXHJcblx0XHRcdFx0XHRcdFx0ICB0aXRsZSA9ICQodGhpcykuYXR0cignZGF0YS10aXRsZScpLFxyXG5cdFx0XHRcdFx0XHRcdCAgIHR5cGUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdHlwZScpLFxyXG5cdFx0XHRcdFx0XHRcdCBcdGJveCA9ICQoJyNqcS1sYXllcicpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRib3gucmVtb3ZlQ2xhc3MoJ3dyYXAtZW5kJykuYWRkQ2xhc3MoJ3dyYXAtc3RhcnQnKTsgXHRcclxuXHRcdFx0XHRcdFx0XHRib3guZmluZCgnLndyYXAtaW1nJykuYXR0cignc3JjJyxpbWcpO1xyXG5cdFx0XHRcdFx0XHRcdGJveC5maW5kKCdoMScpLmh0bWwodGl0bGUpO1xyXG5cdFx0XHRcdFx0XHRcdGJveC5maW5kKCdzcGFuJykuaHRtbCh0eXBlKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0JCgnI2pxLW1hc2snKS5zaG93KCk7XHJcblx0XHRcdFx0XHRcdFx0Ym94LnNob3coKTtcclxuXHRcdFx0XHRcdFx0XHRjbGVhcnNob3coKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0JCgnI2pxLWxheWVyJykuZmluZCgnYScpLm9uKHtcclxuXHRcdFx0XHRcdFx0Y2xpY2s6ZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLnBhcmVudHMoKS5yZW1vdmVDbGFzcygnd3JhcC1zdGFydCcpLmFkZENsYXNzKCd3cmFwLWVuZCcpO1xyXG5cdFx0XHRcdFx0XHRcdCQoJyNqcS1tYXNrJykuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHRcdG9mZiA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gY2xlYXJzaG93KCkge1xyXG5cdFx0XHRcdFx0XHQkKGRvY3VtZW50KS5ub3QoJyNqcS1sYXllcicpLm9uKHtcclxuXHRcdFx0XHRcdFx0XHRjbGljazpmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHRcdFx0JCgnI2pxLWxheWVyJykuZmluZCgnYScpLmNsaWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0JCgnI2pxLWxheWVyJykub24oe1xyXG5cdFx0XHRcdFx0XHRcdGNsaWNrOmZ1bmN0aW9uKGV2ZW50KXtcclxuXHRcdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0sMTAwMCk7XHJcblx0fWVsc2V7XHJcblx0XHQkKCcjanEtcHJpemUnKS5odG1sKHRlbXBsYXRlKCd0ZW1wLXByaXplJywgeyBpdGVtczogY29uZmlnLnByb2R1Y3RzX2luZm8ubGlzdCB9KSk7XHJcblx0XHRyZW1hcmtzaG93KCk7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHJlbWFya3Nob3coKSB7XHJcblx0XHR2YXIgcmVtYXJrID0gW107XHJcblx0XHQkLmVhY2goIGNvbmZpZy5yZW1hcmtfYXJyLGZ1bmN0aW9uKGksaXRlbXMpe1xyXG5cdFx0XHRyZW1hcmsucHVzaCggaXRlbXMgKyAnPHNwYW4+PC9zcGFuPicgKTtcclxuXHRcdH0pO1xyXG5cdFx0JCgnI2pxLXJlbWFyaycpLmh0bWwoIHJlbWFyay5qb2luKCcnKSApO1xyXG5cdH1cclxuXHJcblx0c2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0dGltZXNob3coKTtcclxuXHR9LDApO1xyXG5cdHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG5cdFx0dGltZXNob3coKTtcclxuXHR9LDEwMDApO1xyXG5cdGZ1bmN0aW9uIHRpbWVzaG93KCkge1xyXG5cdFx0Y29uZmlnLmJhY2t0aW1lLS07XHJcblx0XHQkKCcjanEtdGltZScpLmh0bWwoIGZvcm1hdHRpbWUoIGNvbmZpZy5iYWNrdGltZSApICk7XHJcblx0XHRpZiggY29uZmlnLmJhY2t0aW1lID09IDAgKXtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKCBkYXRhX2pzb24ucHJvZHVjdF9saXN0cyA9PSAnJyB8fCAhbGFzdF9jb25maWcgKSB7XHJcblx0XHQkKCcjanEtbW92ZScpLmh0bWwoJzxwPuaKveWllua0u+WKqOi/mOayoeW8gOWni+WTpuOAgjwvcD4nKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0JCgnI2pxLW1vdmUnKS5odG1sKHRlbXBsYXRlKCd0ZW1wLW1vdmUnLCB7IGl0ZW1zOiBkYXRhX2pzb24ucHJvZHVjdF9saXN0cyB9KSk7XHJcblx0fVxyXG5cdHZhciBkaXN0YW5jZSA9ICQoJyNqcS1tb3ZlJykub2Zmc2V0KCkudG9wIC0gJCh3aW5kb3cpLmhlaWdodCgpICsgJCgnI2pxLW1vdmUnKS5oZWlnaHQoKSAvIDIsXHJcblx0XHQgICBvbk9mZiA9IHRydWU7XHJcblx0JCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB0b3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgIGlmKCB0b3AgPiBkaXN0YW5jZSAmJiBvbk9mZiApIHtcclxuICAgICAgICBcdG9uT2ZmID0gZmFsc2U7XHJcbiAgICAgICAgXHRtb3Zlc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cdGZ1bmN0aW9uIG1vdmVzaG93KCkge1xyXG5cdFx0dmFyIGJveCA9ICQoJyNqcS1tb3ZlJyksXHJcblx0XHQgICBsaXN0ID0gYm94LmZpbmQoJ2xpJyksXHJcblx0XHQgIHRpbWVyID0gbnVsbCxcclxuXHRcdCAgICBvZmYgPSB0cnVlLFxyXG5cdFx0ICAgICAgaSA9IDA7XHJcblx0XHRpZiggbGlzdC5sZW5ndGggPiA1ICl7XHJcblx0XHRcdHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmKCAhb2ZmICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpIC09IDE7XHJcblx0XHRcdFx0aWYoIGkgPD0gLWxpc3QuaGVpZ2h0KCkgKSB7XHJcblx0XHRcdFx0XHRvZmYgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIHRpbWVyICk7XHJcblx0XHRcdFx0XHR0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRsaXN0ID0gYm94LmZpbmQoJ2xpJyk7XHJcblx0XHRcdFx0XHRcdG9mZiA9IHRydWU7XHJcblx0XHRcdFx0XHR9LDEwMDApO1xyXG5cdFx0XHRcdFx0Ym94LmFwcGVuZCggbGlzdC5lcSgwKS5jbG9uZSgpICk7XHJcblx0XHRcdFx0XHRsaXN0LmVxKDApLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0aSA9IDA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGJveC5jc3Moeyd0b3AnOiBpICsncHgnfSk7XHJcblx0XHRcdH0sMjApO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoWmVwdG8pO1xyXG4vKmZ1bmN0aW9uIHNvcnRpZChhLGIpIHtcclxuXHRyZXR1cm4gYS5pZCAtIGIuaWQ7XHJcbn1cclxudmFyIGFyciA9IFtdO1xyXG5mb3IodmFyIGkgaW4gbGFzdF9jb25maWcucHJvZHVjdHNfaW5mby5saXN0ICkge1xyXG5cdGFyci5wdXNoKCBsYXN0X2NvbmZpZy5wcm9kdWN0c19pbmZvLmxpc3RbaV0gKTtcclxufVxyXG5hcnIuc29ydCggc29ydGlkICk7Ki8iXSwic291cmNlUm9vdCI6IiJ9